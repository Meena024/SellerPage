<!DOCTYPE html>
<html>
  <head>
    <title>Seller Access Page</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </head>
  <body style="background-color: antiquewhite">
    <h1
      style="
        margin-left: 5%;
        margin-right: 5%;
        text-align: center;
        border: #000 solid;
        padding: 1%;
      "
    >
      Seller Access Space
    </h1>
    <fieldset style="margin-left: 5%; margin-right: 5%">
      <legend
        style="
          font-size: large;
          font-weight: bold;
          border: 1px solid #000;
          padding-left: 10px;
          padding-right: 10px;
          background-color: aliceblue;
        "
      >
        New Product
      </legend>
      <h3>
          <label for="price">Price:</label>
          <input
            type="number"
            id="price"
            placeholder="Enter in INR"
          /><br /><br />

          <label for="product_name"> Product name: </label>
          <input type="text" id="product_name" /><br /><br />

          <label for="category">Category:</label>
          <select id="category">
            <option></option>
            <option value="Electronics">Electronics</option>
            <option value="Health">Health</option>
            <option value="Skin care">Skin Care</option></select
          ><br /><br />

          <label for="product_description">Product Description:</label>
          <textarea
            id="product_description"
            style="height: 30px"
            placeholder="(Optional)"
          ></textarea>
          <br /><br />
          <button
            onClick="store()"
            style="
              background-color: aliceblue;
              font-weight: bold;
              border: 1px solid black;
            "
          >
            Add Product
          </button>
        </form>
      </h3>
    </fieldset>
    <br />
    <fieldset style="margin-left: 5%; margin-right: 5%">
      <legend
        style="
          font-size: large;
          font-weight: bold;
          border: 1px solid #000;
          padding-left: 10px;
          padding-right: 10px;
          background-color: aliceblue;
        "
      >
        Products List
      </legend>
      <br />
      <div id="container"></div>
    </fieldset>
  </body>
  <script type="text/javascript">
    const API_URL =
      "https://crudcrud.com/api/4d5b19feef7b44df9d8c212f59a33539/product_details";
        let displaydata;
        function store() {
            let price = document.getElementById("price").value.trim();
            let product_name = (document.getElementById("product_name").value.trim());
            let category = document.getElementById("category").value.trim();
            let product_description = document.getElementById("product_description").value.trim();
            let newProduct = {
                price: price,
                product_name: product_name,
                category: category,
                product_description: product_description
            };

            axios.post(API_URL, newProduct)
            .then(response => {
                console.log('Product added successfully!', response.data);
                return axios.get(API_URL);
            })
            .then(response => {
                displaydata = response.data;
                console.log(displaydata);
            })
            .catch((error) => {
                console.log(error);
            });
            document.getElementById("price").value = "";
            document.getElementById("product_name").value = "";
            document.getElementById("category").value = "";
            document.getElementById("product_description").value = "";
        }
  </script>
</html>
